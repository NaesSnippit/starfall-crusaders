<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Starfall Crusaders - Soundtrack</title>
</head>
<body>
    <header>
        <h1>
            <img src="images/StarfallLogoFullHoriz.png" height="100" alt="Starfall Logo">
        </h1>
        <nav>
            <ul>
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="demo.html" class="nav-link">Game Demo</a></li>
                <li><a href="fanart.html" class="nav-link">Fanart</a></li>
                <li><a href="trivia.html" class="nav-link">Characters</a></li>
                <li><a href="soundtrack.html" class="nav-link">Soundtrack</a></li>
                <li class="active"><a href="https://www.tumblr.com/projectstarfallcrusaders/" class="nav-link">Tumblr</a></li>
                <li><a href="https://twitter.com/StarfallCSaders" class="nav-link">Twitter</a></li>
                <li><a href="https://www.youtube.com/@projectstarfallcrusaders" class="nav-link">YouTube</a></li>
            </ul>
        </nav>
    </header>
    <br>
    <section id="main-content">
        <!-- Your main content goes here -->
        <p>Insert fanart here heehee</p>
        <!-- Add more content as needed -->
    </section>

    <footer>
        <p>&copy; 2024 Starfall Crusaders. All rights reserved. Made with Love.</p>
    </footer>
    
<script>
    function playSound(event) {
        console.log('Sound function called');
        try {
            // Use an absolute path to the audio file
            var audio = new Audio('selectsfx.wav');

            // Add an event listener to navigate when the sound ends
            audio.addEventListener('ended', function () {
                // Check if the link is an external link
                var href = event.target.getAttribute('href');
                var isExternalLink = href.startsWith('http') || href.startsWith('//');

                // Allow default behavior for external links or links with target="_blank"
                if (isExternalLink || event.target.getAttribute('target') === '_blank') {
                    return;
                }

                // Prevent the default behavior after the sound has ended
                event.preventDefault();

                // Navigate to the specified URL
                window.location.href = href;
            });

            audio.play();
        } catch (error) {
            console.error('Error playing sound:', error);

            // If there's an error, proceed with default behavior
            var href = event.target.getAttribute('href');
            window.location.href = href;
        }
    }

    // Attach event listener to all links with class 'nav-link'
    var navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(function(link) {
        link.addEventListener('click', playSound);
    });
</script>
</body>
</html>
